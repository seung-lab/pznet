make: Entering directory '/home/ubuntu/znnphi_interface/code/znet'
rm -rf out
mkdir -p out
mkdir -p out/weights
python src/znet_generator/main.py /home/ubuntu/znnphi_interface/code/znet/src/python/pznet/.tmp/net.json /home/ubuntu/znnphi_interface/code/znet/reference/unet/unet.h5 src/generated/znet.cpp
Parsing the network spec...
Loading the weights...
Optimizing the net...
Removing elui!
Removing bn0_d0!
Removing scale0_d0!
Removing elu0_d0!
Removing bn1_d0!
Removing scale1_d0!
Removing elu1_d0!
Removing bn0_d1!
Removing scale0_d1!
Removing elu0_d1!
Removing bn1_d1!
Removing scale1_d1!
Removing elu1_d1!
Removing bn0_d2!
Removing scale0_d2!
Removing elu0_d2!
Removing bn1_d2!
Removing scale1_d2!
Removing elu1_d2!
Removing BatchNorm1!
Removing Scale1!
Removing ELU1!
Removing BatchNorm2!
Removing Scale2!
Removing ELU2!
Removing bn0_d4!
Removing scale0_d4!
Removing elu0_d4!
Removing bn1_d4!
Removing scale1_d4!
Removing elu1_d4!
Removing bn0_d5!
Removing scale0_d5!
Removing elu0_d5!
Removing bn1_d5!
Removing scale1_d5!
Removing elu1_d5!
Removing bn4_d4!
Removing scale4_d4!
Removing elu4_d4!
Removing bn5_d4!
Removing scale5_d4!
Removing elu5_d4!
Removing bn4_d3!
Removing scale4_d3!
Removing elu4_d3!
Removing bn5_d3!
Removing scale5_d3!
Removing elu5_d3!
Removing bn4_d2!
Removing scale4_d2!
Removing elu4_d2!
Removing bn5_d2!
Removing scale5_d2!
Removing elu5_d2!
Removing bn4_d1!
Removing scale4_d1!
Removing elu4_d1!
Removing bn5_d1!
Removing scale5_d1!
Removing elu5_d1!
Removing bn4_d0!
Removing scale4_d0!
Removing elu4_d0!
Removing bn5_d0!
Removing scale5_d0!
Removing elu5_d0!
Removing elu7_d0!
Generating the network...
   Generating constructors...
Traceback (most recent call last):
  File "src/znet_generator/main.py", line 26, in <module>
    generate_znet(net, out_path)
  File "/home/ubuntu/znnphi_interface/code/znet/src/znet_generator/generate_znet.py", line 108, in generate_znet
    constructor_body      = constructor_body_lines(net)
  File "/home/ubuntu/znnphi_interface/code/znet/src/znet_generator/generate_znet.py", line 58, in constructor_body_lines
    lines += allocate_all_layers_lines(net)
  File "/home/ubuntu/znnphi_interface/code/znet/src/znet_generator/generate_znet.py", line 13, in allocate_all_layers_lines
    lines += allocate_layer_lines(l)
  File "/home/ubuntu/znnphi_interface/code/znet/src/znet_generator/layers/allocate_layer_lines.py", line 16, in allocate_layer_lines
    return allocate_conv_lines(lparams) 
  File "/home/ubuntu/znnphi_interface/code/znet/src/znet_generator/layers/conv.py", line 142, in allocate_conv_lines
    blocked_kernel = block_kernel(kernel, l)
  File "/home/ubuntu/znnphi_interface/code/znet/src/znet_generator/layers/conv.py", line 95, in block_kernel
    blocked_kernel[znnphi_index] = kernel[ofm][ifm][kz][kx][ky]
KeyboardInterrupt
Makefile:95: recipe for target 'src/generated/znet.cpp' failed
make: *** [src/generated/znet.cpp] Error 1




































































































1 2
1 2
1 2
1 2
1 2
Copying 2654208 bytes into the user input. 
Starting Forward Pass
Running block_input!
Running input!
Running convi_padder!
Running convi!
Running conv0_d0_padder!
Running conv0_d0!
Running conv1_d0_padder!
Running conv1_d0!
Running conv2_d0_padder!
Running conv2_d0!
Running sum0_d0!
Running bn2_d0!
Running scale2_d0!
Running elu2_d0!
Running pool_d1!
Running conv0_d1_padder!
Running conv0_d1!
Running conv1_d1_padder!
Running conv1_d1!
Running conv2_d1_padder!
Running conv2_d1!
Running sum0_d1!
Running bn2_d1!
Running scale2_d1!
Running elu2_d1!
Running pool_d2!
Running conv0_d2_padder!
Running conv0_d2!
Running convf1_d2_padder!
Running convf1_d2!
Running conv1_d2_padder!
Running conv1_d2!
Running convf2_d2_padder!
Running convf2_d2!
Running conv2_d2_padder!
Running conv2_d2!
Running sum0_d2!
Running bn2_d2!
Running scale2_d2!
Running elu2_d2!
Running pool_d3!
Running conv0_d3_padder!
Running conv0_d3!
Running convf1_d3_padder!
Running convf1_d3!
Running conv1_d3_padder!
Running conv1_d3!
Running convf2_d3_padder!
Running convf2_d3!
Running conv2_d3_padder!
Running conv2_d3!
Running sum0_d3!
Running BatchNorm3!
Running Scale3!
Running ELU3!
Running pool_d4!
Running conv0_d4_padder!
Running conv0_d4!
Running convf1_d4_padder!
Running convf1_d4!
Running conv1_d4_padder!
Running conv1_d4!
Running convf2_d4_padder!
Running convf2_d4!
Running conv2_d4_padder!
Running conv2_d4!
Running sum0_d4!
Running bn2_d4!
Running scale2_d4!
Running elu2_d4!
Running pool_d5!
Running conv0_d5_padder!
Running conv0_d5!
Running convf1_d5_padder!
Running convf1_d5!
Running conv1_d5_padder!
Running conv1_d5!
Running convf2_d5_padder!
Running convf2_d5!
Running conv2_d5_padder!
Running conv2_d5!
Running sum0_d5!
Running bn2_d5!
Running scale2_d5!
Running elu2_d5!
Running Deconvolution1!
Running Eltwise1!
Running BatchNorm4!
Running Scale4!
Running ELU4!
Running conv4_d4_padder!
Running conv4_d4!
Running convf5_d4_padder!
Running convf5_d4!
Running conv5_d4_padder!
Running conv5_d4!
Running convf6_d4_padder!
Running convf6_d4!
Running conv6_d4_padder!
Running conv6_d4!
Running sum4_d4!
Running bn6_d4!
Running scale6_d4!
Running elu6_d4!
Running Deconvolution2!
Running Eltwise2!
Running bn3_d3!
Running scale3_d3!
Running elu3_d3!
Running conv4_d3_padder!
Running conv4_d3!
Running convf5_d3_padder!
Running convf5_d3!
Running conv5_d3_padder!
Running conv5_d3!
Running convf6_d3_padder!
Running convf6_d3!
Running conv6_d3_padder!
Running conv6_d3!
Running sum4_d3!
Running bn6_d3!
Running scale6_d3!
Running elu6_d3!
Running Deconvolution3!
Running Eltwise3!
Running bn2_d3!
Running scale2_d3!
Running elu2_d3!
Running conv4_d2_padder!
Running conv4_d2!
Running convf5_d2_padder!
Running convf5_d2!
Running conv5_d2_padder!
Running conv5_d2!
Running convf6_d2_padder!
Running convf6_d2!
Running conv6_d2_padder!
Running conv6_d2!
Running sum4_d2!
Running bn6_d2!
Running scale6_d2!
Running elu6_d2!
Running Deconvolution4!
Running Eltwise4!
Running bn1_d3!
Running scale1_d3!
Running elu1_d3!
Running conv4_d1_padder!
Running conv4_d1!
Running conv5_d1_padder!
Running conv5_d1!
Running conv6_d1_padder!
Running conv6_d1!
Running sum4_d1!
Running bn6_d1!
Running scale6_d1!
Running elu6_d1!
Running deconv_d3!
Running merge_d3!
Running bn0_d3!
Running scale0_d3!
Running elu0_d3!
Running conv4_d0_padder!
Running conv4_d0!
Running conv5_d0_padder!
Running conv5_d0!
Running conv6_d0_padder!
Running conv6_d0!
Running sum4_d0!
Running bn6_d0!
Running scale6_d0!
Running elu6_d0!
Running conv7_d0_padder!
Running conv7_d0!
Running score_padder!
Running score!
Running output!
Running unblock_output!
average:2.25945
Forward Finished
Traceback (most recent call last):
  File "./unet_client.py", line 29, in <module>
    out_a    = z.forward(in_a)
  File "/home/ubuntu/znnphi_interface/code/znet/src/python/pznet/pznet.py", line 45, in forward
    return self.net.forward(input_tensor)
  File "/home/ubuntu/.local/lib/python2.7/site-packages/numpy/core/_internal.py", line 423, in _dtype_from_pep3118
    def _dtype_from_pep3118(spec, byteorder='@', is_subdtype=False):
KeyboardInterrupt
